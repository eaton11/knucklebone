"use strict";var knucklebone=function(){function n(n,r,e,o){var u=s(new XMLHttpRequest);return u.addEventListener("readystatechange",function(n){4===u.readyState&&t(u,e,r)}),u.open(r,n),"GET"===r?u.send():"POST"===r&&("json"===e?(u.setRequestHeader("Content-Type","application/json;charset=UTF-8"),o instanceof Object?u.send(JSON.stringify(o)):u.send(o)):u.send(o)),u}function t(n,t,s){if(n.status>=200&&n.status<400){if("POST"===s)return r(n,n.response);if("json"!==t)return r(n,n.response);var u=o(n.response);return null===u?e(n,"Error parsing response. Expected JSON."):r(n,u)}return e(n,n.response)}function r(n,t){"function"==typeof n._onSuccess&&n._onSuccess(t)}function e(n,t){"function"==typeof n._onError&&n._onError(t)}function o(n){try{var t=JSON.parse(n)}catch(r){return null}return t}function s(n){return n.success=function(t){if("function"!=typeof t)throw Error('callback not passed to "success" method');return n._onSuccess=t,this},n.error=function(t){if("function"!=typeof t)throw Error('callback not passed to "error" method');return n._onError=t,this},n}function u(t){return n(t,"GET")}function c(t){return n(t,"GET","json")}function i(t,r){return n(t,"POST",void 0,r)}function f(t,r){return n(t,"POST","json",r)}return{get:u,getJson:c,post:i,postJson:f}}();
