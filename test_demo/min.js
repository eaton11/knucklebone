function knucklebone(e){var t={options:{stream:void 0===e?!1:e.stream===!0?!0:!1},abort:function(){return self},resend:function(){},pause:function(){var e=this;knucklebone().post("test.php",myForm).pause(function(e){e.play()});var t=knucklebone().post("test.php",myForm).pause();return t.play(),e},play:function(){return self=this,self.utils.rqst(),self},pending:function(){return this.utils.info.pending},success:function(e){return this.utils.success=e,this},error:function(e){return this.utils.error=e,this},get:function(e,t){var s=this;if("string"==typeof e)s.utils.mapCall(e,t,"get");else if(Array.isArray(e))for(var n=0,r=e.length;r>n;n++)s.utils.mapCall(e[n],t,"get");return s.utils.rqst(),this},post:function(){},utils:{mapCall:function(e,t,s){var n=this,r={url:e,contentType:void 0!==t?t.contentType:"get"===s?"json":"form",type:s,pending:!0,res:{},aborted:!1,permissionToFire:!0,onSuccess:null,onError:null};"post"===r.type&&(r.form=void 0!==t?t.form:!0),n.queue.push(r)},rqst:function(){for(var e=this,s=0,n=e.queue.length;n>s;s++){var r=new XMLHttpRequest;!function(s,n){n.addEventListener("readystatechange",function(){if(4===n.readyState){s.pending=!1;var r=e.beautifyRes(n);(r.status>=200&&r.status<300?0:1)?(e.resData.push(r),e.resData.length===e.queue.length&&(e.error(1===e.resData.length?e.resData[0]:e.resData),t.utils=void 0),console.log("error!")):t.options.stream?e.success(r):(e.resData.push(r),e.resData.length===e.queue.length&&(e.success(1===e.resData.length?e.resData[0]:e.resData),t.utils=void 0))}})}(e.queue[s],r),r.open(e.queue[s].type,e.queue[s].url),r.send()}},beautifyRes:function(e){var t={};try{t.json=JSON.parse(e.response)}catch(s){t.json=null}return t.response=e.response,t.responseType=e.responseType,t.responseURL=e.responseURL,t.status=e.status,t.statusText=e.statusText,t},resData:[],formify:function(){},queue:[],success:null,error:null,pause:function(){}}};return t}